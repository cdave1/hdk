<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Documentation</title>
    <base href="http://www.chaiscript.com" />
    <link type="text/css" rel="stylesheet" href="misc/print.css" />
      </head>
  <body>
        
    <div id="node-4" class="section-1">
  <h1 class="book-heading">Documentation</h1>
  <p><H2>Introduction</h2></p>
<p>ChaiScript is a scripting language that easily embeds into your existing C++ applications.  It's built to be flexible and dynamic, yet still maintain the type-safety you expect as a C++ user.  It can natively use classes, methods, and attributes, even if the class inherits functionality from a parent class.  </p>
<p>As of 2.0, it also supports exceptions and automatic thread-safety.</p>
<p><H2>Table of Contents:</h2></p>
  <div id="node-33" class="section-2">
  <h1 class="book-heading">Getting Started</h1>
  <h2>Getting the source</h2>
<p>The latest source (as well as the latest Subversion) is hosted at Google code.  To grab the latest release, go <a href="http://code.google.com/p/chaiscript/downloads/list">here</a>.  For the more adventurous, you can get the latest source code <a href="http://code.google.com/p/chaiscript/source/checkout">here</a>.</p>
<h2>Getting Boost</h2>
<p>ChaiScript requires Boost (at least 1.34), which you can get <a href="http://www.boost.org">here</a>.</p>
<h2>Compiling the evaluator</h2>
<p>In GCC:</p>
<div class="geshifilter">
<pre class="bash geshifilter-bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">cd</span> chaiscript
.<span style="color: #000000; font-weight: bold;">/</span><span style="color: #c20cb9; font-weight: bold;">g++</span> <span style="color: #660033;">-Iinclude</span> -I<span style="color: #000000; font-weight: bold;">&lt;</span>path to Boost<span style="color: #000000; font-weight: bold;">&gt;</span> src<span style="color: #000000; font-weight: bold;">/</span>main.cpp <span style="color: #660033;">-o</span> chaiscript_eval</pre></div>
<p>In Visual Studio:</p>
<p>Open the msvc\chaiscript\chaiscript.sln VC++ solution file. Use the property manager to modify the "C++/General/Additional Include Directories" and "Linker/General/Additional Library Directories" to reflect your local configuration.</p>
<p>Right-click on "chaiscript" and hit "compile" or just hit the "Start Debugging" "play" button to start the evaluator.</p>
<h2>Using the evaluator</h2>
<p>In Windows:</p>
<div class="geshifilter">
<pre class="bash geshifilter-bash" style="font-family:monospace;">chaiscript_eval.exe
<span style="color: #7a0874; font-weight: bold;">eval</span><span style="color: #000000; font-weight: bold;">&gt;</span></pre></div>
<p>In Linux and OS X:</p>
<div class="geshifilter">
<pre class="bash geshifilter-bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>chaiscript_eval
<span style="color: #7a0874; font-weight: bold;">eval</span><span style="color: #000000; font-weight: bold;">&gt;</span></pre></div>
<p>The evaluator allows you to evaluate ChaiScript expressions.  This is a great way to get a feel for the language.  You can also pass ChaiScript source files to the evaluator from the commandline to run them as standalone scripts.</p>
<h2>Starting an example project</h2>
<p>The minimal ChaiScript project requires only a few lines:</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;"><span style="color: #339900;">#include &lt;chaiscript/chaiscript.hpp&gt;</span>
<span style="color: #0000ff;">int</span> main<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
  <span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span> chaiscript<span style="color: #008080;">;</span>
&nbsp;
  ChaiScript chai<span style="color: #008080;">;</span>
  chai.<span style="color: #007788;">eval</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;print(<span style="color: #000099; font-weight: bold;">\&quot;</span>Hello, world<span style="color: #000099; font-weight: bold;">\&quot;</span>)&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
  <span style="color: #0000ff;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span></pre></div>
<p>You can also grab values returned by executing ChaiScript.  For example, if you wanted to compute a value, and return its answer, you can replace the above eval line with one like this:</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;"><span style="color: #0000ff;">int</span> answer <span style="color: #000080;">=</span> chai.<span style="color: #007788;">eval</span><span style="color: #000080;">&lt;</span><span style="color: #0000ff;">int</span><span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;5+5&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span></pre></div>
<p>Notice that we use the templated version so that what comes out of the script is type-safe in C++.  </p>
<p>It's also possible to register your own functions so that your script can see them.  For example:</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;"><span style="color: #339900;">#include &lt;chaiscript/chaiscript.hpp&gt;</span>
<span style="color: #0000ff;">int</span> add<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span> x, <span style="color: #0000ff;">int</span> y<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
  <span style="color: #0000ff;">return</span> x<span style="color: #000040;">+</span>y<span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span>
&nbsp;
<span style="color: #0000ff;">int</span> main<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
  <span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span> chaiscript<span style="color: #008080;">;</span>
&nbsp;
  ChaiScript chai<span style="color: #008080;">;</span>
  chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>fun<span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>add<span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;add&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>  <span style="color: #666666;">//register our 'add' function under the name &quot;add&quot;</span>
  chai.<span style="color: #007788;">eval</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;print(add(3, 4))&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
  <span style="color: #0000ff;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span></pre></div>
<p>For more a more involved example project, see <a href="http://code.google.com/p/chaiscript/source/browse/trunk/src/example.cpp">example.cpp</a>.</p>
<h2>ChaiScript examples</h2>
<p>Some simple examples:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #006600; font-style: italic;">//Creating a vector of mixed types:</span>
<span style="color: #003366; font-weight: bold;">var</span> v <span style="color: #339933;">=</span> <span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">4</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;Hi&quot;</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">5.0</span><span style="color: #009900;">&#93;</span>
&nbsp;
<span style="color: #006600; font-style: italic;">//And print them one per line by passing the 'print' function</span>
v.<span style="color: #660066;">for_each</span><span style="color: #009900;">&#40;</span><span style="color: #000066;">print</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #006600; font-style: italic;">//Creating a Map</span>
<span style="color: #003366; font-weight: bold;">var</span> m <span style="color: #339933;">=</span> <span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;a&quot;</span><span style="color: #339933;">:</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;b&quot;</span><span style="color: #339933;">:</span><span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;c&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;Hello World&quot;</span><span style="color: #009900;">&#93;</span>
&nbsp;
<span style="color: #006600; font-style: italic;">//Print the value referenced with the key &quot;b&quot;</span>
<span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span>m<span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;b&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span>
&nbsp;
<span style="color: #006600; font-style: italic;">//Replacing the value with another value</span>
m<span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;b&quot;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #CC0000;">5</span>
&nbsp;
<span style="color: #006600; font-style: italic;">//Print the key again</span>
<span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span>m<span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;b&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span></pre></div>
<p>For more examples, see the <a href="http://code.google.com/p/chaiscript/source/browse/#svn/trunk/samples">samples</a> directory. </p>
<p>Continue on to the <a href="/node/31">ChaiScript Reference</a> or the <a href="/node/28">C++ API Reference</a>.</p>
  </div>
<div id="node-8" class="section-2">
  <h1 class="book-heading">ChaiScript Basics</h1>
  <p><strong>Assignment</strong></p>
<p>Assignment in ChaiScript occurs by default as a copy operation.</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">5</span><span style="color: #339933;">;</span>
<span style="color: #003366; font-weight: bold;">var</span> j <span style="color: #339933;">=</span> i<span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">// Copy i into j</span></pre></div>
<p>You can explicitly choose a reference assignment with the <span class="geshifilter"><code class="geshifilter-chaiscript"><span style="color: #339933;">:=</span></code></span> operator.</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">5</span><span style="color: #339933;">;</span>
<span style="color: #003366; font-weight: bold;">var</span> j <span style="color: #339933;">:=</span> i<span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">// Share the same value between i and j</span></pre></div>
<p><strong>Conditional Blocks</strong></p>
<p>"If" blocks are supported, but be sure to note that "else if" is a single keyword instead of two separate words as it is in C++:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> 2
<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>i <span style="color: #339933;">&lt;</span> 2<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;less than 2&quot;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#125;</span>
<span style="color: #000066; font-weight: bold;">else</span> <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>i <span style="color: #339933;">==</span> 2<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;equal to 2&quot;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#125;</span>
<span style="color: #000066; font-weight: bold;">else</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;more than 2&quot;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#125;</span></pre></div>
<p><strong>Functions</strong></p>
<p>ChaiScript allows two kinds of function definitions.  The first, static definitions, use the keyword "def" and are globally visible:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">def</span> add_elems<span style="color: #009900;">&#40;</span>x<span style="color: #339933;">,</span> y<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  x <span style="color: #339933;">+</span> y
<span style="color: #009900;">&#125;</span>
<span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span>add_elems<span style="color: #009900;">&#40;</span><span style="color: #CC0000;">5</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">10</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span></pre></div>
<p>Function may also have guards, expressions which prevent or allow execution.  For example, let's say we want to print the proper pluralization next to the number of items we have in a vector:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">def</span> print_count<span style="color: #009900;">&#40;</span>x<span style="color: #009900;">&#41;</span> <span style="color: #339933;">:</span> x.<span style="color: #660066;">size</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> 1 <span style="color: #009900;">&#123;</span> 
  <span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;You have &quot;</span> <span style="color: #339933;">+</span> x.<span style="color: #660066;">size</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">to_string</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">&quot; item&quot;</span><span style="color: #009900;">&#41;</span> 
<span style="color: #009900;">&#125;</span>
<span style="color: #003366; font-weight: bold;">def</span> print_count<span style="color: #009900;">&#40;</span>x<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> 
  <span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;You have &quot;</span> <span style="color: #339933;">+</span> x.<span style="color: #660066;">size</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">to_string</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">&quot; items&quot;</span><span style="color: #009900;">&#41;</span> 
<span style="color: #009900;">&#125;</span>
&nbsp;
print_count<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;bob&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span>  <span style="color: #006600; font-style: italic;">// prints &quot;You have 1 item&quot;</span>
print_count<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;bob&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;fred&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;sally&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> <span style="color: #006600; font-style: italic;">//prints &quot;You have 3 items&quot;</span></pre></div>
<p>Anonymous functions (aka lambdas) create a function as a value in your code, that can be passed in a variable.</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">var</span> add_elems <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">fun</span><span style="color: #009900;">&#40;</span>x<span style="color: #339933;">,</span> y<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> x <span style="color: #339933;">+</span> y <span style="color: #009900;">&#125;</span>
<span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span>add_elems<span style="color: #009900;">&#40;</span><span style="color: #CC0000;">5</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">10</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span></pre></div>
<p><strong>Return values</strong></p>
<p>ChaiScript return values come in two types: explicit and inferred.  Explicit return values work identically to C++:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">def</span> five<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #000066; font-weight: bold;">return</span> 5
<span style="color: #009900;">&#125;</span>
<span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span>five<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span></pre></div>
<p>When there is no explicit return statement, the last value referenced in a function is used.  This code sample produces the same result as the above:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">def</span> five<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  5 
<span style="color: #009900;">&#125;</span>
<span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span>five<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span></pre></div>
<p><strong>Looping</strong></p>
<p>ChaiScript allows C++ style loops in two flavors:</p>
<p>For loops:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #003366; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;</span> <span style="color: #CC0000;">10</span><span style="color: #339933;">;</span> <span style="color: #339933;">++</span>i<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;i: &quot;</span> <span style="color: #339933;">+</span> i.<span style="color: #660066;">to_string</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#125;</span></pre></div>
<p>While loops:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> 0
<span style="color: #000066; font-weight: bold;">while</span> <span style="color: #009900;">&#40;</span>i <span style="color: #339933;">&lt;</span> 10<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;i: &quot;</span> <span style="color: #339933;">+</span> i.<span style="color: #660066;">to_string</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span>
  <span style="color: #339933;">++</span>i
<span style="color: #009900;">&#125;</span></pre></div>
<p>Loops can be broken with the 'break' keyword, which works similarly to C++, where flow breaks out of the inner-most loop to the next outer loop.</p>
<p><strong>Methods</strong></p>
<p>ChaiScript uses a "syntactic sugar" technique for methods which allow functions to be called as methods.  For example, the following are equivalent:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">5.<span style="color: #660066;">to_string</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>
to_string<span style="color: #009900;">&#40;</span><span style="color: #CC0000;">5</span><span style="color: #009900;">&#41;</span></pre></div>
<p>The value on the left of the dot is used as the first parameter to the named function.</p>
<p><strong>Containers</strong></p>
<p>ChaiScript supports a handful of container types, allowing shortcuts for creating Vectors and Maps.  </p>
<p><em>Vectors:</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">var</span> x <span style="color: #339933;">=</span> <span style="color: #009900;">&#91;</span>1<span style="color: #339933;">,</span> 2<span style="color: #339933;">,</span> 3<span style="color: #009900;">&#93;</span>
<span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span>x<span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span></pre></div>
<p><em>Maps:</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">var</span> x <span style="color: #339933;">=</span> <span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;bob&quot;</span><span style="color: #339933;">:</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;fred&quot;</span><span style="color: #339933;">:</span>2<span style="color: #009900;">&#93;</span>
<span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span>x<span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;fred&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span></pre></div>
<p>Also available is a shortcut notation for creating a Vector from a range of values:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">var</span> x <span style="color: #339933;">=</span> <span style="color: #009900;">&#91;</span>1..10<span style="color: #009900;">&#93;</span>
<span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span>x<span style="color: #009900;">&#41;</span></pre></div>
<p><strong>Exception Blocks</strong></p>
<p>ChaiScript offers the ability to capture and throw exceptions.  </p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">try <span style="color: #009900;">&#123;</span>
  <span style="color: #006600; font-style: italic;">//dangerous block of code</span>
<span style="color: #009900;">&#125;</span>
catch <span style="color: #009900;">&#40;</span>e<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
  <span style="color: #006600; font-style: italic;">//do something with 'e', our exception</span>
<span style="color: #009900;">&#125;</span>
finally <span style="color: #009900;">&#123;</span>
  <span style="color: #006600; font-style: italic;">//do something after everything else has been done</span>
<span style="color: #009900;">&#125;</span></pre></div>
<p>Throwing an exception is just like any other function call, but we use 'throw' as the name of the function:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">throw<span style="color: #009900;">&#40;</span><span style="color: #CC0000;">3</span><span style="color: #009900;">&#41;</span></pre></div>
<p><strong>Objects</strong></p>
<p>For more information on how ChaiScript can extend C++ classes and build new types, read <a href="http://chaiscript.com/node/43">here</a>.</p>
  <div id="node-7" class="section-3">
  <h1 class="book-heading">Vectors</h1>
  <p><strong>Introduction</strong></p>
<p>The Vector, in some languages also called an 'array', is a simple container of values of any type. In ChaiScript, "Vector" is an exposing of the <span class="geshifilter"><code class="geshifilter-cpp">std<span style="color: #008080;">::</span><span style="color: #007788;">vector</span><span style="color: #000080;">&lt;&gt;</span></code></span>.</p>
<p><strong>Creating Vectors</strong></p>
<p>There are two main ways to create a Vector.  The first is to call the "Vector()" function, like so:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">var</span> v <span style="color: #339933;">=</span> Vector<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></pre></div>
<p>You may also use a shorter syntax, which is probably familiar to users of other scripting languages:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">var</span> v <span style="color: #339933;">=</span> <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span></pre></div>
<p>Using the shorter syntax, you can also give initial values for the Vector:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">var</span> v <span style="color: #339933;">=</span> <span style="color: #009900;">&#91;</span><span style="color: #CC0000;">4</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;bob&quot;</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3.5</span><span style="color: #009900;">&#93;</span></pre></div>
<p><strong>Using Vectors</strong></p>
<p>The easiest way to read or write to Vectors is through direct access:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">var</span> v <span style="color: #339933;">=</span> <span style="color: #009900;">&#91;</span>4<span style="color: #339933;">,</span> 5<span style="color: #339933;">,</span> 6<span style="color: #009900;">&#93;</span>
v<span style="color: #009900;">&#91;</span>1<span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> 10
<span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span>v<span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span></pre></div>
<p>Additional function/methods are also available:</p>
<dt>push_back(container, x)</dt>
<dd>Push the given value x onto the back of the container.</dd>
<dt>pop_back(container)</dt>
<dd>Pop the back value off container.  Because this follows C++ conventions, the popped value is not returned.</dd>
<dt>back(container)</dt>
<dd>Return the back(last) value of the container</dd>
  </div>
</div>
<div id="node-28" class="section-2">
  <h1 class="book-heading">ChaiScript C++ API</h1>
  <p><em>For an example usage of these techniques see the file <a href="http://code.google.com/p/chaiscript/source/browse/trunk/src/example.cpp">example.cpp</a></em></p>
<p><H2>ChaiScript</h2><br />
ChaiScript is the main object you use to interact with the scripting engine.</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;">chaiscript<span style="color: #008080;">::</span><span style="color: #007788;">ChaiScript</span> chai<span style="color: #008080;">;</span></pre></div>
<p><H2>ChaiScript::add</h2><br />
The "add" member is used for adding components to the ChaiScript system. Components can be either functions, types, "modules" or data objects.</p>
<p>To Utilize the "add" member, you need to specify the type of object you want to add:</p>
<p><H3>fun</h3><br />
"fun" is used to add a function to the system. A function can be a free function, a boost::function&lt;&gt;, a member function or member data.</p>
<p>Given the following code:</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;"><span style="color: #0000ff;">class</span> MyClass
<span style="color: #008000;">&#123;</span>
<span style="color: #0000ff;">public</span><span style="color: #008080;">:</span>
  MyClass<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span> t_value<span style="color: #008000;">&#41;</span> <span style="color: #008080;">:</span> m_value<span style="color: #008000;">&#40;</span>t_value<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span><span style="color: #008000;">&#125;</span>
&nbsp;
  <span style="color: #0000ff;">int</span> get_value<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span> <span style="color: #0000ff;">return</span> m_value<span style="color: #008080;">;</span> <span style="color: #008000;">&#125;</span>
  <span style="color: #0000ff;">void</span> multiply_value<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span> v<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span> m_value <span style="color: #000040;">*</span><span style="color: #000080;">=</span> v<span style="color: #008080;">;</span> <span style="color: #008000;">&#125;</span>
  std<span style="color: #008080;">::</span><span style="color: #007788;">string</span> data<span style="color: #008080;">;</span>
&nbsp;
<span style="color: #0000ff;">private</span><span style="color: #008080;">:</span>
  <span style="color: #0000ff;">int</span> m_value<span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span><span style="color: #008080;">;</span>
&nbsp;
std<span style="color: #008080;">::</span><span style="color: #007788;">string</span> concat<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">const</span> std<span style="color: #008080;">::</span><span style="color: #007788;">string</span> <span style="color: #000040;">&amp;</span>first, <span style="color: #0000ff;">const</span> std<span style="color: #008080;">::</span><span style="color: #007788;">string</span> <span style="color: #000040;">&amp;</span>second<span style="color: #008000;">&#41;</span>
<span style="color: #008000;">&#123;</span>
  <span style="color: #0000ff;">return</span> first <span style="color: #000040;">+</span> second<span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span></pre></div>
<p>We can fully expose this set of functions to ChaiScript with just a few lines of C++:</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;">chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>fun<span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>MyClass<span style="color: #008080;">::</span><span style="color: #007788;">get_value</span><span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;get_value&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>fun<span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>MyClass<span style="color: #008080;">::</span><span style="color: #007788;">multiply_value</span><span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;multiply_value&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
<span style="color: #666666;">// the data member can be added like other class members</span>
chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>fun<span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>MyClass<span style="color: #008080;">::</span><span style="color: #007788;">data</span><span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;data&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> 
&nbsp;
<span style="color: #666666;">//&quot;fun&quot;'s can also be implicitly created using the &quot;constructor&quot; function</span>
<span style="color: #666666;">//for exposing class constructors</span>
chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>constructor<span style="color: #000080;">&lt;</span>MyClass <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;MyClass&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
<span style="color: #666666;">//Exposing a free function is the same:</span>
chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>fun<span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>concat<span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;my_concat&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
<span style="color: #666666;">//Also, a boost::function can be added</span>
chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>fun<span style="color: #008000;">&#40;</span>boost<span style="color: #008080;">::</span><span style="color: #007788;">function</span><span style="color: #000080;">&lt;</span>std<span style="color: #008080;">::</span><span style="color: #007788;">string</span> <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">const</span> std<span style="color: #008080;">::</span><span style="color: #007788;">string</span><span style="color: #008000;">&#41;</span><span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span>boost<span style="color: #008080;">::</span><span style="color: #007788;">bind</span><span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>concat, <span style="color: #FF0000;">&quot;Hello &quot;</span>, _1<span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;my_bound_concat&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span></pre></div>
<p><H3>var</h3><br />
Var is used to specify a C++ variable to add. Variables can be either <span class="geshifilter"><code class="geshifilter-cpp">boost<span style="color: #008080;">::</span><span style="color: #007788;">shared_ptr</span><span style="color: #000080;">&lt;&gt;</span></code></span>, <span class="geshifilter"><code class="geshifilter-cpp">boost<span style="color: #008080;">::</span><span style="color: #007788;">ref</span></code></span>, pointer or data. Note, if you add a variable as data, the value is copied into the system, and the variable is not shared with ChaiScript.</p>
<p>Examples:</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;"><span style="color: #0000ff;">int</span> i <span style="color: #000080;">=</span> <span style="color: #0000dd;">5</span><span style="color: #008080;">;</span>
chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>var<span style="color: #008000;">&#40;</span>i<span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;i&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// Add a copy of i, and call it &quot;i&quot;</span></pre></div>
<p>The above example adds a copy of a local variable to the ChaiScript system. The safest way to share data (as opposed to copying) is with a <span class="geshifilter"><code class="geshifilter-cpp">boost<span style="color: #008080;">::</span><span style="color: #007788;">shared_ptr</span><span style="color: #000080;">&lt;&gt;</span></code></span>.</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;">boost<span style="color: #008080;">::</span><span style="color: #007788;">shared_ptr</span><span style="color: #000080;">&lt;</span>MyClass<span style="color: #000080;">&gt;</span> myclass<span style="color: #008000;">&#40;</span><span style="color: #0000dd;">new</span> MyClass<span style="color: #008000;">&#40;</span>5<span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>var<span style="color: #008000;">&#40;</span>myclass<span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;myclass&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// Add our shared MyClass object to the system</span></pre></div>
<p>Options that are not as safe for sharing data include the use of pointers or references, seen below:</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;"><span style="color: #666666;">// This option is a little dangerous, if the local i were to go out of scope,</span>
<span style="color: #666666;">// the pointer would become invalidated</span>
<span style="color: #0000ff;">int</span> i <span style="color: #000080;">=</span> <span style="color: #0000dd;">5</span><span style="color: #008080;">;</span>
chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>var<span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>i<span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;i&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// Add a pointer to i. </span></pre></div>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;"><span style="color: #666666;">// This option is dangerous in the same way that the pointer version is</span>
std<span style="color: #008080;">::</span><span style="color: #007788;">string</span> s <span style="color: #000080;">=</span> <span style="color: #FF0000;">&quot;hello world&quot;</span><span style="color: #008080;">;</span>
chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>var<span style="color: #008000;">&#40;</span>boost<span style="color: #008080;">::</span><span style="color: #007788;">ref</span><span style="color: #008000;">&#40;</span>s<span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;str&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// Add a boost::reference to our string</span></pre></div>
<p><H3>user_type</h3><br />
User_type is completely optional, but provides the system with a name for your new type. Notice that up to this point we have not explicitly told ChaiScript about MyClass. The system is happy to work with what we have given it so far. </p>
<p>User_type is required if you want your type to be support by the "clone" and "new" functions in ChaiScript. "Clone" and "new" do a lookup of the typename of an object to determine how to call its constructor.</p>
<p>That is, if you want your type to be fully supported by the ChaiScript system, you need to add a default constructor, a copy constructor and a user_type entry all with the same exact name.</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;">chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>user_type<span style="color: #000080;">&lt;</span>MyClass<span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;MyClass&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span></pre></div>

<p><H3>Module</h3><br />
A Module is simply a collection of functions and type information. The files bootstrap.hpp and bootstrap_stl.hpp provide many helper functions that create Modules for you.</p>
<p>The two most notable examples are for a constructor adding helper and for bootstrapping of STL types.</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;"><span style="color: #666666;">//Add default and copy constructors for our type</span>
chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>bootstrap<span style="color: #008080;">::</span><span style="color: #007788;">basic_constructors</span><span style="color: #000080;">&lt;</span>MyClass<span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;MyClass&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span></pre></div>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;"><span style="color: #666666;">//Add a new type, a vector of our MyClass</span>
chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>bootstrap<span style="color: #008080;">::</span><span style="color: #007788;">vector_type</span><span style="color: #000080;">&lt;</span>std<span style="color: #008080;">::</span><span style="color: #007788;">vector</span><span style="color: #000080;">&lt;</span>MyClass<span style="color: #000080;">&gt;</span> <span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;MyClassVec&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span></pre></div>
<p><H2>ChaiScript::eval</h2><br />
ChaiScript::eval is the main mechanism used to evaluate ChaiScript code. In the most simple case, we execute one off pieces of ChaiScript:</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;">chai.<span style="color: #007788;">eval</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;var j = 5+7; print(j)&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span></pre></div>
<p>We can also type-safely handle C++ return values from our ChaiScript:</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;"><span style="color: #0000ff;">int</span> i <span style="color: #000080;">=</span> chai.<span style="color: #007788;">eval</span><span style="color: #000080;">&lt;</span><span style="color: #0000ff;">int</span><span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;5+7&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span></pre></div>
<p>Building on the previous example, we see that we can call our MyClass constructor, and share the result with C++:</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;">boost<span style="color: #008080;">::</span><span style="color: #007788;">shared_ptr</span><span style="color: #000080;">&lt;</span>MyClass<span style="color: #000080;">&gt;</span> obj <span style="color: #000080;">=</span> chai.<span style="color: #007788;">eval</span><span style="color: #000080;">&lt;</span>boost<span style="color: #008080;">::</span><span style="color: #007788;">shared_ptr</span><span style="color: #000080;">&lt;</span>MyClass<span style="color: #000080;">&gt;</span> <span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;var obj = MyClass(2)&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
obj.<span style="color: #007788;">multiply_value</span><span style="color: #008000;">&#40;</span>3<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
chai.<span style="color: #007788;">eval</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;print(obj.get_value())&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
chai.<span style="color: #007788;">eval</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;obj.multiply_value(2)&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
std<span style="color: #008080;">::</span><span style="color: #0000dd;">cout</span> <span style="color: #000080;">&lt;&lt;</span> obj.<span style="color: #007788;">get_value</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #000080;">&lt;&lt;</span> std<span style="color: #008080;">::</span><span style="color: #007788;">endl</span><span style="color: #008080;">;</span></pre></div>
<p>A shortcut to using "eval" is the () operator, which does not perform any runtime type checking:</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;">chai<span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;obj.multiply_value(18)&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span></pre></div>
<p>Also, we can use the eval (or the () shortcut) to handle return values in a generic fashion using Boxed_Value.</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;">Boxed_Value bv <span style="color: #000080;">=</span> chai<span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;MyClass()&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// construct a MyClass in a generic factory-style way</span></pre></div>
<p><H2>ChaiScript::eval_file</h2><br />
eval_file behaves exactly the same as "eval" but expects a file name to parse instead of a string.</p>
<p><H2>ChaiScript::functor</h2><br />
The functor utility function allows us to treat ChaiScript code as if it where native C++ functions. It is a templated function that takes a function signature, and a string to parse.</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;">boost<span style="color: #008080;">::</span><span style="color: #007788;">function</span><span style="color: #000080;">&lt;</span><span style="color: #0000ff;">void</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000080;">&gt;</span> print_value <span style="color: #000080;">=</span> chai.<span style="color: #007788;">functor</span><span style="color: #000080;">&lt;</span><span style="color: #0000ff;">void</span> <span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;fun() { print(obj.get_value()) }&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
print_value<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
boost<span style="color: #008080;">::</span><span style="color: #007788;">function</span><span style="color: #000080;">&lt;</span><span style="color: #0000ff;">int</span> <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span>, <span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #000080;">&gt;</span> int_max <span style="color: #000080;">=</span> chai.<span style="color: #007788;">functor</span><span style="color: #000080;">&lt;</span><span style="color: #0000ff;">int</span> <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span>, <span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;fun(x, y) { if (x&gt;y) {x} else {y} }&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
<span style="color: #0000ff;">int</span> m <span style="color: #000080;">=</span> int_max<span style="color: #008000;">&#40;</span>6,7<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
<span style="color: #666666;">//Note, the returned boost::function need not necessarily be stored in a local</span>
<span style="color: #666666;">//variable. An interesting shortcut would be to do:</span>
<span style="color: #0000ff;">int</span> s <span style="color: #000080;">=</span> chai.<span style="color: #007788;">functor</span><span style="color: #000080;">&lt;</span><span style="color: #0000ff;">void</span> <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span>, <span style="color: #0000ff;">int</span><span style="color: #008000;">&#41;</span><span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;fun(x, y) { x+y }&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#40;</span>4,5<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
<span style="color: #666666;">//The above technique is particularly handy when you need to substitute</span>
<span style="color: #666666;">//in C++ variables into your executed ChaiScript code.</span></pre></div>
<p><H2>boxed_cast</h2><br />
boxed_cast is used to cast a Boxed_Value to another type. "Eval" and "eval_file" both return Boxed_Value objects. Taking the "factory_style" example from above:</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;">Boxed_Value bv <span style="color: #000080;">=</span> chai<span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;MyClass()&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> 
&nbsp;
<span style="color: #666666;">//Various ways of extracting type safe data from a Boxed_Value</span>
boost<span style="color: #008080;">::</span><span style="color: #007788;">shared_ptr</span><span style="color: #000080;">&lt;</span>MyClass<span style="color: #000080;">&gt;</span> o1 <span style="color: #000080;">=</span> boxed_cast<span style="color: #000080;">&lt;</span>boost<span style="color: #008080;">::</span><span style="color: #007788;">shared_ptr</span><span style="color: #000080;">&lt;</span>MyClass<span style="color: #000080;">&gt;</span> <span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span>bv<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
MyClass <span style="color: #000040;">&amp;</span>o2 <span style="color: #000080;">=</span> boxed_cast<span style="color: #000080;">&lt;</span>MyClass <span style="color: #000040;">&amp;</span><span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span>bv<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
MyClass o3 <span style="color: #000080;">=</span> boxed_cast<span style="color: #000080;">&lt;</span>MyClass<span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span>bv<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// This version makes a copy</span>
MyClass <span style="color: #000040;">*</span>o4 <span style="color: #000080;">=</span> boxed_cast<span style="color: #000080;">&lt;</span>MyClass <span style="color: #000040;">*</span><span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span>bv<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
<span style="color: #666666;">//If we try a boxed_cast that is invalid a bad_boxed_cast is thrown</span>
<span style="color: #0000ff;">try</span> <span style="color: #008000;">&#123;</span>
  <span style="color: #0000ff;">int</span> i <span style="color: #000080;">=</span> boxed_cast<span style="color: #000080;">&lt;</span><span style="color: #0000ff;">int</span><span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span>bv<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span> <span style="color: #0000ff;">catch</span> <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">const</span> bad_boxed_cast <span style="color: #000040;">&amp;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span>
  <span style="color: #666666;">// failure in boxed_cast</span>
<span style="color: #008000;">&#125;</span></pre></div>
<p><H2>functor</h2><br />
The functor free function is similar to the ChaiScript::functor method in that it creates a C++ type safe function call from a ChaiScript object.</p>
<p>The functor free function differs because it expects a <span class="geshifilter"><code class="geshifilter-cpp">chaiscript<span style="color: #008080;">::</span><span style="color: #007788;">Proxy_Function</span></code></span> object. This can be used for generating C++ callbacks from ChaiScript code.</p>
<div class="geshifilter">
<pre class="cpp geshifilter-cpp" style="font-family:monospace;"><span style="color: #0000ff;">struct</span> Callback_Handler
<span style="color: #008000;">&#123;</span>
  std<span style="color: #008080;">::</span><span style="color: #007788;">vector</span><span style="color: #000080;">&lt;</span>boost<span style="color: #008080;">::</span><span style="color: #007788;">function</span><span style="color: #000080;">&lt;</span><span style="color: #0000ff;">int</span> <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">const</span> std<span style="color: #008080;">::</span><span style="color: #007788;">string</span> <span style="color: #000040;">&amp;</span><span style="color: #008000;">&#41;</span><span style="color: #000080;">&gt;</span> <span style="color: #000080;">&gt;</span> m_funcs<span style="color: #008080;">;</span>
&nbsp;
  <span style="color: #0000ff;">void</span> add<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">const</span> chaiscript<span style="color: #008080;">::</span><span style="color: #007788;">Proxy_Function</span> <span style="color: #000040;">&amp;</span>f<span style="color: #008000;">&#41;</span>
  <span style="color: #008000;">&#123;</span>
    <span style="color: #666666;">//Create a boost::function&lt;&gt; from the passed in Proxy_Function</span>
    <span style="color: #666666;">//and add it to our vector of chaiscript</span>
    m_funcs.<span style="color: #007788;">push_back</span><span style="color: #008000;">&#40;</span>chaiscript<span style="color: #008080;">::</span><span style="color: #007788;">functor</span><span style="color: #000080;">&lt;</span><span style="color: #0000ff;">int</span> <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">const</span> std<span style="color: #008080;">::</span><span style="color: #007788;">string</span> <span style="color: #000040;">&amp;</span><span style="color: #008000;">&#41;</span><span style="color: #000080;">&gt;</span><span style="color: #008000;">&#40;</span>f<span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
  <span style="color: #008000;">&#125;</span>
<span style="color: #008000;">&#125;</span><span style="color: #008080;">;</span>
&nbsp;
<span style="color: #0000ff;">int</span> main<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>
<span style="color: #008000;">&#123;</span>
  chaiscript<span style="color: #008080;">::</span><span style="color: #007788;">ChaiScript</span> chai<span style="color: #008080;">;</span>
  chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>fun<span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>Callback_Handler<span style="color: #008080;">::</span><span style="color: #007788;">add</span><span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;add&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
  Callback_Handler ch<span style="color: #008080;">;</span>
  chai.<span style="color: #007788;">add</span><span style="color: #008000;">&#40;</span>var<span style="color: #008000;">&#40;</span><span style="color: #000040;">&amp;</span>ch<span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;callback_handler&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
&nbsp;
  <span style="color: #666666;">//Create a chaiscript lambda function and add it to the list </span>
  <span style="color: #666666;">//list of callbacks </span>
  chai.<span style="color: #007788;">eval</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;challback_handler.add(fun(x) { x.size(); })&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>
<span style="color: #008000;">&#125;</span></pre></div>
<p><a href="http://code.google.com/p/chaiscript/source/browse/trunk/src/example.cpp">example.cpp</a> has a more robust example of using functor to support ChaiScript callbacks.</p>
  </div>
<div id="node-31" class="section-2">
  <h1 class="book-heading">ChaiScript Reference</h1>
  <h2>Files</h2>
<p>ChaiScript, once parsed, is executed top to bottom in a single pass.  Definitions and statements have the same precedence.</p>
<p><em>Recommendation: ChaiScript source files have a .chai extension.</em></p>
<h2>Comments</h2>
<p>Comments follow the same format as C++ comments.</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #006600; font-style: italic;">/*
  This is a multi-line comment.
*/</span>
<span style="color: #006600; font-style: italic;">//This is a single line comment.</span></pre></div>
  <div id="node-38" class="section-3">
  <h1 class="book-heading">Block Types</h1>
  <h3>If Blocks</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">If Block <span style="color: #000066; font-weight: bold;">::=</span> <span style="color: #a00;">&quot;if&quot;</span> <span style="color: #a00;">&quot;(&quot;</span> condition <span style="color: #a00;">&quot;)&quot;</span> block</pre></div>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">Else If Block <span style="color: #000066; font-weight: bold;">::=</span> <span style="color: #a00;">&quot;else if&quot;</span> <span style="color: #a00;">&quot;(&quot;</span> condition <span style="color: #a00;">&quot;)&quot;</span> block</pre></div>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">Else Block <span style="color: #000066; font-weight: bold;">::=</span> <span style="color: #a00;">&quot;else&quot;</span> block</pre></div>
<h3>While Blocks</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">While Block <span style="color: #000066; font-weight: bold;">::=</span> <span style="color: #a00;">&quot;while&quot;</span> <span style="color: #a00;">&quot;(&quot;</span> condition <span style="color: #a00;">&quot;)&quot;</span> block</pre></div>
<p>This loop can be broken using the <span class="geshifilter"><code class="geshifilter-text">break</code></span> command.</p>
<h3>For Blocks</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">For Block <span style="color: #000066; font-weight: bold;">::=</span> <span style="color: #a00;">&quot;for&quot;</span> <span style="color: #a00;">&quot;(&quot;</span> <span style="">&#91;</span>initial<span style="">&#93;</span> <span style="color: #a00;">&quot;;&quot;</span> stop_condition <span style="color: #a00;">&quot;;&quot;</span> loop_expression <span style="color: #a00;">&quot;)&quot;</span> block</pre></div>
<p>This loop can be broken using the <span class="geshifilter"><code class="geshifilter-text">break</code></span> command.</p>
<h3>Try Blocks</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">Try Block <span style="color: #000066; font-weight: bold;">::=</span> <span style="color: #a00;">&quot;try&quot;</span> block 
  <span style="">&#40;</span><span style="color: #a00;">&quot;catch&quot;</span> <span style="">&#91;</span><span style="color: #a00;">&quot;(&quot;</span> variable <span style="color: #a00;">&quot;)&quot;</span><span style="">&#93;</span> <span style="">&#91;</span><span style="color: #a00;">&quot;:&quot;</span> guards<span style="">&#93;</span> block<span style="">&#41;</span>+ 
  <span style="">&#91;</span><span style="color: #a00;">&quot;finally&quot;</span> block<span style="">&#93;</span></pre></div>
  </div>
<div id="node-41" class="section-3">
  <h1 class="book-heading">Function Definitions</h1>
  <div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">Function Definition <span style="color: #000066; font-weight: bold;">::=</span> <span style="">&#91;</span>annotation + CR/LF<span style="">&#93;</span> <span style="color: #a00;">&quot;def&quot;</span> identifier <span style="color: #a00;">&quot;(&quot;</span> <span style="">&#91;</span>arg <span style="">&#40;</span><span style="color: #a00;">&quot;,&quot;</span> arg<span style="">&#41;</span>*<span style="">&#93;</span> <span style="color: #a00;">&quot;)&quot;</span> <span style="">&#91;</span><span style="color: #a00;">&quot;:&quot;</span> guard<span style="">&#93;</span> block</pre></div>
<p><span class="geshifilter"><code class="geshifilter-text">annotation:</code></span> meta-annotation on function, currently used as documentation.  Optional.<br />
<span class="geshifilter"><code class="geshifilter-text">identifier:</code></span> name of function.  Required.<br />
<span class="geshifilter"><code class="geshifilter-text">args:</code></span> comma-delimited list of parameter names.  Optional.<br />
<span class="geshifilter"><code class="geshifilter-text">guards:</code></span> guarding statement that act as a prerequisite for the function.  Optional.<br />
<span class="geshifilter"><code class="geshifilter-text">{ }:</code></span> scoped block as function body.  Required.</p>
<p>Functions return values in one of two ways:</p>
<ol>
<li>By using an explicit <span class="geshifilter"><code class="geshifilter-text">return</code></span> call, optionally passing the value to be returned.</li>
<li>By implicitly returning the value of the last expression (if it is not a while or for loop).</li>
</ol>
  </div>
<div id="node-39" class="section-3">
  <h1 class="book-heading">In-Place Creation</h1>
  <h3>Anonymous Functions</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">Lambda <span style="color: #000066; font-weight: bold;">::=</span> <span style="color: #a00;">&quot;fun&quot;</span> <span style="color: #a00;">&quot;(&quot;</span> <span style="">&#91;</span>variable<span style="">&#93;</span> <span style="">&#40;</span><span style="color: #a00;">&quot;,&quot;</span> variable<span style="">&#41;</span>*  <span style="color: #a00;">&quot;)&quot;</span> block</pre></div>
<p>Creates an anonymous function (sometimes called a lambda).</p>
<h3>Vector</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">In-place Vector <span style="color: #000066; font-weight: bold;">::=</span> <span style="color: #a00;">&quot;[&quot;</span> <span style="">&#91;</span>expression <span style="">&#40;</span><span style="color: #a00;">&quot;,&quot;</span> expression<span style="">&#41;</span>*<span style="">&#93;</span>  <span style="color: #a00;">&quot;]&quot;</span></pre></div>
<h3>Ranged Vector</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">In-place Ranged Vector <span style="color: #000066; font-weight: bold;">::=</span> <span style="color: #a00;">&quot;[&quot;</span> value <span style="color: #a00;">&quot;..&quot;</span> value <span style="color: #a00;">&quot;]&quot;</span></pre></div>
<p>Creates a vector over a range (eg. 1..10)</p>
<h3>Map</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">In-place Map <span style="color: #000066; font-weight: bold;">::=</span> <span style="color: #a00;">&quot;[&quot;</span> <span style="">&#40;</span>string <span style="color: #a00;">&quot;:&quot;</span> expression<span style="">&#41;</span>+ <span style="color: #a00;">&quot;]&quot;</span></pre></div>
  </div>
<div id="node-43" class="section-3">
  <h1 class="book-heading">Object Model</h1>
  <h2>Extending Registered C++ Classes</h2>
<p>You may extend C++ classes that you have previously registered with the ChaiScript engine using the method definition syntax:</p>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">Method Definition <span style="color: #000066; font-weight: bold;">::=</span> class_name <span style="color: #a00;">&quot;::&quot;</span> method_name <span style="color: #a00;">&quot;(&quot;</span> <span style="">&#91;</span>arg <span style="">&#40;</span><span style="color: #a00;">&quot;,&quot;</span> arg<span style="">&#41;</span>*<span style="">&#93;</span> <span style="color: #a00;">&quot;)&quot;</span> block</pre></div>
<h2>ChaiScript's Native Object Types</h2>
<h3>Constructors and Methods</h3>
<p>Using the same method definition syntax you can create a constructor and add methods to a new type.  For example:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">def</span> MyClass<span style="color: #339933;">::</span>MyClass<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> <span style="color: #009900;">&#125;</span></pre></div>
<p>This creates a constructor for the 'MyClass' type, which, if it doesn't already exist, will now be visible to your script.  To instantiate a value of 'MyClass', call its constructor directly:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">var</span> myobject <span style="color: #339933;">=</span> MyClass<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span></pre></div>
<h3>Attributes</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">Attribute Definition <span style="color: #000066; font-weight: bold;">::=</span> <span style="color: #a00;">&quot;attr&quot;</span> class_name <span style="color: #a00;">&quot;::&quot;</span> attribute_name</pre></div>
<p>In addition to extending your new type with methods, you may also add attributes.</p>
<p>Extended example:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">attr Rectangle<span style="color: #339933;">::</span>height
attr Rectangle<span style="color: #339933;">::</span>width
<span style="color: #003366; font-weight: bold;">def</span> Rectangle<span style="color: #339933;">::</span>Rectangle<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> this.<span style="color: #660066;">height</span> <span style="color: #339933;">=</span> <span style="color: #CC0000;">10</span><span style="color: #339933;">;</span> this.<span style="color: #660066;">width</span> <span style="color: #339933;">=</span> 20 <span style="color: #009900;">&#125;</span>
<span style="color: #003366; font-weight: bold;">def</span> Rectangle<span style="color: #339933;">::</span>area<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> this.<span style="color: #660066;">height</span> <span style="color: #339933;">*</span> this.<span style="color: #660066;">width</span> <span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #003366; font-weight: bold;">var</span> rect <span style="color: #339933;">=</span> Rectangle<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>
rect.<span style="color: #660066;">height</span> <span style="color: #339933;">=</span> 30
<span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span>rect.<span style="color: #660066;">area</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span></pre></div>
  </div>
<div id="node-3" class="section-3">
  <h1 class="book-heading">Standard Library (aka The Prelude)</h1>
  <p>ChaiScript, at its core, has some very functional programming-inspired habits.  Few places show this off as clearly as the prelude, itself a name taken as a nod to the popular functional language Haskell.  This prelude is available to all standard ChaiScript applications, and provides a simple foundation for using numbers, strings, and ranges (the general category of containers and their iteration).</p>
<h2>Strings</h2>
<p><strong>to_string(x):</strong> <em>Converts x into a string.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> to_string<span style="color: #009900;">&#40;</span><span style="color: #CC0000;">3</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">is_type</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;string&quot;</span><span style="color: #009900;">&#41;</span>
<span style="color: #003366; font-weight: bold;">true</span></pre></div>
<p><strong>puts(x):</strong> <em>Prints x to the terminal, without a trailing carriage return.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> puts<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;hi, &quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> puts<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;there&quot;</span><span style="color: #009900;">&#41;</span>
hi<span style="color: #339933;">,</span> there</pre></div>
<p><strong>print(x):</strong> <em>Prints x to the terminal, with a trailing carriage return.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> <span style="color: #000066;">print</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;hello&quot;</span><span style="color: #009900;">&#41;</span>
hello</pre></div>
<p><strong>find(str, substr):</strong> <em>Finds the first instance of substr in str.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> find<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;abab&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;ab&quot;</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">0</span></pre></div>
<p><strong>rfind(str, substr):</strong> <em>Finds the last instance of substr in str.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> rfind<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;abab&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;ab&quot;</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">2</span></pre></div>
<p><strong>find_first_of(str, list):</strong> <em>Finds the first of characters in list in the str string.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> find_first_of<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;abab&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;bec&quot;</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">1</span></pre></div>
<p><strong>find_last_of(str, list):</strong> <em>Finds the last of characters in list in the str string.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> find_last_of<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;abab&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;bec&quot;</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">3</span></pre></div>
<p><strong>find_first_not_of(str, list):</strong> <em>Finds the first non-matching character to list in the str string.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> find_first_not_of<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;abcd&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;fec&quot;</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">0</span></pre></div>
<p><strong>find_last_not_of(str, list):</strong> <em>Finds the last non-matching character to list in the str string.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> find_last_not_of<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;abcd&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;fec&quot;</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">3</span></pre></div>
<p><strong>ltrim(str):</strong> <em>Removes whitespace from the front of the string.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> ltrim<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;  bob&quot;</span><span style="color: #009900;">&#41;</span>
bob</pre></div>
<p><strong>rtrim(str):</strong> <em>Removes whitespace from the back of the string.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> rtrim<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;bob  &quot;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">&quot;|&quot;</span>
bob<span style="color: #339933;">|</span></pre></div>
<p><strong>trim(str):</strong> <em>Removes whitespace from the front and back of the string.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> trim<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;  bob  &quot;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">&quot;|&quot;</span>
bob<span style="color: #339933;">|</span></pre></div>
<h2>Numbers</h2>
<p><strong>max(a, b):</strong> <em>Returns the maximum value of a or b.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> max<span style="color: #009900;">&#40;</span><span style="color: #CC0000;">4</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">10</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">10</span></pre></div>
<p><strong>min(a, b):</strong> <em>Returns the minimum value of a or b.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> min<span style="color: #009900;">&#40;</span><span style="color: #CC0000;">4</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">10</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">4</span></pre></div>
<p><strong>even(x):</strong> <em>Returns true if x is even, otherwise returns false.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> even<span style="color: #009900;">&#40;</span>4<span style="color: #009900;">&#41;</span>
<span style="color: #003366; font-weight: bold;">true</span></pre></div>
<p><strong>odd(x):</strong> <em>Returns true if x is odd, otherwise returns false.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> odd<span style="color: #009900;">&#40;</span>4<span style="color: #009900;">&#41;</span>
<span style="color: #003366; font-weight: bold;">false</span></pre></div>
<h2>Containers</h2>
<p><strong>for_each(container, f):</strong> <em>Applies the function f over each element in the container.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> for_each<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span>1<span style="color: #339933;">,</span> 2<span style="color: #339933;">,</span> 3<span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000066;">print</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">1</span>
<span style="color: #CC0000;">2</span>
<span style="color: #CC0000;">3</span></pre></div>
<p><strong>map(container, f):</strong> <em>Applies f over each element in the container, joining all the results.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> map<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span>1<span style="color: #339933;">,</span> 2<span style="color: #339933;">,</span> 3<span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> odd<span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#91;</span><span style="color: #003366; font-weight: bold;">true</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">false</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">true</span><span style="color: #009900;">&#93;</span></pre></div>
<p><strong>foldl(container, f, initial):</strong> <em>Starts with the initial value and applies the function f to it and the first element of the container.  The result is then applied to the second element, and so on until the elements are exhausted.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> foldl<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">4</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> `<span style="color: #339933;">+</span>`<span style="color: #339933;">,</span> <span style="color: #CC0000;">0</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">10</span></pre></div>
<p><strong>sum(container):</strong> <em>Returns the sum total of the values in the container.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> sum<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">4</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">10</span></pre></div>
<p><strong>product(container):</strong> <em>Returns the product of the value in the container.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> product<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">4</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">24</span></pre></div>
<p><strong>take(container, num):</strong> <em>Takes num elements from the container, returning them.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> take<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">4</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #009900;">&#93;</span></pre></div>
<p><strong>take_while(container, f):</strong> <em>Takes elements from the container that match function f, stopping at the first non-match, returning them as a new Vector.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> take_while<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> odd<span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #009900;">&#93;</span></pre></div>
<p><strong>drop(container, num):</strong> <em>Drops num elements from the container, returning the remainder.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> drop<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">4</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#91;</span><span style="color: #CC0000;">3</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">4</span><span style="color: #009900;">&#93;</span></pre></div>
<p><strong>drop_while(container, f):</strong> <em>Drops elements from the container that match f, stopping at the first non-match, returning the remainder.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> drop_while<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> odd<span style="color: #009900;">&#41;</span>         
<span style="color: #009900;">&#91;</span><span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #009900;">&#93;</span></pre></div>
<p><strong>reduce(container, f):</strong> <em>Similar to foldl, this takes the first two elements as its starting values for f.  This assumes container has at least 2 elements.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> reduce<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">4</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> `<span style="color: #339933;">+</span>`<span style="color: #009900;">&#41;</span>
<span style="color: #CC0000;">10</span></pre></div>
<p><strong>filter(container, f):</strong> <em>Takes elements from container that match function f, return them.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> filter<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">4</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> odd<span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #009900;">&#93;</span></pre></div>
<p><strong>join(container, delim):</strong> <em>Joins the elements of the container into a string, delimiting each with the delim string.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> join<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;*&quot;</span><span style="color: #009900;">&#41;</span> 
<span style="color: #CC0000;">1</span><span style="color: #339933;">*</span><span style="color: #CC0000;">2</span><span style="color: #339933;">*</span><span style="color: #CC0000;">3</span></pre></div>
<p><strong>reverse(container):</strong> <em>Returns the contents of the container in reversed order.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> reverse<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">4</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">5</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">6</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">7</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#91;</span><span style="color: #CC0000;">7</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">6</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">5</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">4</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">1</span><span style="color: #009900;">&#93;</span></pre></div>
<p><strong>generate_range(x, y):</strong> <em>Generates a new Vector filled with values starting at x and ending with y.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> generate_range<span style="color: #009900;">&#40;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">10</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">4</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">5</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">6</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">7</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">8</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">9</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">10</span><span style="color: #009900;">&#93;</span></pre></div>
<p><strong>concat(x, y):</strong> <em>Returns a new Vector with x and y concatenated.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> concat<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #CC0000;">4</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">5</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">6</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">4</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">5</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">6</span><span style="color: #009900;">&#93;</span></pre></div>
<p><strong>collate(x, y):</strong> <em>Returns a new Vector with x and y as its values.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> collate<span style="color: #009900;">&#40;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #009900;">&#93;</span></pre></div>
<p><strong>zip_with(f, x, y):</strong> <em>Applies f to elements of x and y, returning a new Vector with the result of each application.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> zip_with<span style="color: #009900;">&#40;</span>`<span style="color: #339933;">+</span>`<span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #CC0000;">4</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">5</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">6</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#91;</span><span style="color: #CC0000;">5</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">7</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">9</span><span style="color: #009900;">&#93;</span></pre></div>
<p><strong>zip(x, y):</strong> <em>Collates elements of x and y, returning a new Vector with the result.</em></p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">eval<span style="color: #339933;">&gt;</span> zip<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">3</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #CC0000;">4</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">5</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">6</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span>
<span style="color: #009900;">&#91;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">4</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #CC0000;">2</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">5</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><span style="color: #CC0000;">3</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">6</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#93;</span></pre></div>
  </div>
<div id="node-37" class="section-3">
  <h1 class="book-heading">Statement Types</h1>
  <p>Statements are formed by combining one or more of the following:</p>
<h3>Numbers</h3>
<p>ChaiScript supports both ints and doubles.</p>
<p>Example int:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #CC0000;">10</span></pre></div>
<p>Example doubles:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #CC0000;">3.14</span><span style="color: #339933;">,</span> NaN<span style="color: #339933;">,</span> Infinity</pre></div>
<h3>Booleans</h3>
<p>Example booleans:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">true</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">false</span></pre></div>
<h3>Variables</h3>
<p>Any variable identifier that follows the C naming convention.</p>
<p>Example variable:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">bob</pre></div>
<h3>Strings</h3>
<p>Quoted string values.  </p>
<p>Example string:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #3366CC;">&quot;test me&quot;</span></pre></div>
<p>Strings accept the following escaped sequences:</p>
<table cellpadding="3" cellspacing="3">
<tr>
<th>Sequence</th>
<th>Description</th>
</tr>
<tr>
<td>\b</td>
<td>Backspace</td>
</tr>
<tr>
<td>\f</td>
<td>Form feed</td>
</tr>
<tr>
<td>\n</td>
<td>Newline</td>
</tr>
<tr>
<td>\r</td>
<td>Carriage return</td>
</tr>
<tr>
<td>\t</td>
<td>Tab</td>
</tr>
<tr>
<td>\'</td>
<td>Single quote</td>
</tr>
<tr>
<td>\"</td>
<td>Double quote</td>
</tr>
<tr>
<td>\\</td>
<td>Single backslash</td>
</tr>
</table>
<p>Strings also allow in-string evaluation, which allows you to evaluate simple expressions inside of the string.  For example:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #003366; font-weight: bold;">var</span> five <span style="color: #339933;">=</span> <span style="color: #CC0000;">5</span>
<span style="color: #3366CC;">&quot;3 + 5 = ${3 + five}&quot;</span></pre></div>
<h3>Characters</h3>
<p>Single-Quoted char values.  </p>
<p>Example char:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #3366CC;">'b'</span></pre></div>
<p>Chars also accept the following escaped sequences:</p>
<table cellpadding="3" cellspacing="3">
<tr>
<th>Sequence</th>
<th>Description</th>
</tr>
<tr>
<td>\b</td>
<td>Backspace</td>
</tr>
<tr>
<td>\f</td>
<td>Form feed</td>
</tr>
<tr>
<td>\n</td>
<td>Newline</td>
</tr>
<tr>
<td>\r</td>
<td>Carriage return</td>
</tr>
<tr>
<td>\t</td>
<td>Tab</td>
</tr>
<tr>
<td>\'</td>
<td>Single quote</td>
</tr>
<tr>
<td>\"</td>
<td>Double quote</td>
</tr>
<tr>
<td>\\</td>
<td>Single backslash</td>
</tr>
</table>
<h3>Operator Literals</h3>
<p>A special form of the operator that allows you to reference it as an identifier.</p>
<p>Example operator literal:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;">`<span style="color: #339933;">+</span>`</pre></div>
<p><em>Note: These may be used as first-class functions.</em></p>
<h3>Expressions</h3>
<p>Example expression:</p>
<div class="geshifilter">
<pre class="chaiscript geshifilter-chaiscript" style="font-family:monospace;"><span style="color: #CC0000;">3</span> <span style="color: #339933;">+</span> <span style="color: #CC0000;">4</span> <span style="color: #339933;">*</span> <span style="color: #CC0000;">5</span></pre></div>
<p>Mathematical expression following the order of precedence mentioned in "Operators".</p>
<h3>Variable Declarations</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">Variable Declaration <span style="color: #000066; font-weight: bold;">::=</span> <span style="color: #a00;">&quot;var&quot;</span> identifier</pre></div>
<p>A variable name preceded by the keyword var, which declares the variable as an anonymous type.  Once a variable has been given a type by assigning it to a value, the variable must maintain this type while it's in scope.</p>
<h3>Equations</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">Equation <span style="color: #000066; font-weight: bold;">::=</span> lvalue <span style="color: #a00;">&quot;=&quot;</span> rvalue</pre></div>
<p>Takes a copy of what is on the right hand side and assigns it to the identifier named on the left hand side.  For complex types this calls the "clone" method for that type.</p>
<h3>Function Calls</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">Function Call <span style="color: #000066; font-weight: bold;">::=</span> fun_name <span style="color: #a00;">&quot;(&quot;</span> <span style="">&#91;</span>arg <span style="">&#40;</span><span style="color: #a00;">&quot;,&quot;</span> arg<span style="">&#41;</span>*<span style="">&#93;</span> <span style="color: #a00;">&quot;)&quot;</span></pre></div>
<p>Calls the function pointed to by the lhs value.</p>
<h3>Method Calls</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">Method Call <span style="color: #000066; font-weight: bold;">::=</span> obj_name <span style="color: #a00;">&quot;.&quot;</span> fun_name <span style="color: #a00;">&quot;(&quot;</span> <span style="">&#91;</span>arg <span style="">&#40;</span><span style="color: #a00;">&quot;,&quot;</span> arg<span style="">&#41;</span>*<span style="">&#93;</span> <span style="color: #a00;">&quot;)&quot;</span></pre></div>
<p>In ChaiScript the above notation is identical to: </p>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">fun_name <span style="color: #a00;">&quot;(&quot;</span> obj_name <span style="">&#40;</span><span style="color: #a00;">&quot;,&quot;</span> arg<span style="">&#41;</span>* <span style="color: #a00;">&quot;)&quot;</span></pre></div>
<h3>Array Calls</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">Array Call <span style="color: #000066; font-weight: bold;">::=</span> obj_name <span style="color: #a00;">&quot;[&quot;</span> key <span style="color: #a00;">&quot;]&quot;</span></pre></div>
<p>An array value lookup.  In maps, 'key' is a string value, in vectors it is a numeric index.</p>
<h3>Throwing Exceptions</h3>
<div class="geshifilter">
<pre class="bnf geshifilter-bnf" style="font-family:monospace;">Throw <span style="color: #000066; font-weight: bold;">::=</span> <span style="color: #a00;">&quot;throw&quot;</span> <span style="color: #a00;">&quot;(&quot;</span> value <span style="color: #a00;">&quot;)&quot;</span></pre></div>
  </div>
<div id="node-40" class="section-3">
  <h1 class="book-heading">Supported Types</h1>
  <h3>Native Types</h3>
<p>The following are natively supported types in ChaiScript:</p>
<table cellpadding="3" cellspacing="3">
<tr>
<th>Type</th>
<th>Example</th>
</tr>
<tr>
<td>int</td>
<td>10</td>
</tr>
<tr>
<td>double</td>
<td>1.2</td>
</tr>
<tr>
<td>bool</td>
<td>true</td>
</tr>
<tr>
<td>string</td>
<td>"hello"</td>
</tr>
<tr>
<td>char</td>
<td>'b'</td>
</tr>
<tr>
<td>Vector</td>
<td>[1, 2] and [1..10]</td>
</tr>
<tr>
<td>Map</td>
<td>["key":100]</td>
</tr>
</table>
<h3>Supported Types</h3>
<p>All C++ types are support (value, reference, and pointer types included).  Additionally, values of boost::shared_ptr are also supported.</p>
  </div>
</div>
</div>
    
  </body>
</html>
